{% extends "layout.html" %}

{% block main %}
{% with messages = get_flashed_messages(with_categories=true) %}
  {% for category, message in messages %}
    <div class="alert alert-{{ category }}">{{ message }}</div>
  {% endfor %}
{% endwith %}
<h1>Your profile</h1>
<form action="/profile" method="post" id="login">
    {% for user in username %}
    <div class="mb-3">
        <label for="name">Name</label>
        <input autocomplete="off" autofocus class="form-control mx-auto w-auto"  name="name" value="{{ user.name }}" type="text">
    </div>
    <div class="mb-3">
        <label for="email">Email</label>
        <input autocomplete="off" autofocus class="form-control mx-auto w-auto"  name="email" value="{{ user.email }}" type="text" disabled>
    </div>
    <div class="mb-3">
        <label for="password">Password</label>
        <input class="form-control mx-auto w-auto"  name="password" value="{{ user.hash }}" type="password">
    </div>
    <div class="mb-3">
        <p>Your cash: {{ user.cash | usd }}</p>
    </div>
    {% endfor %}
    <button type="submit" class="btn btn-primary">Save</button>
    <br>
    <a href="/cash">Add cash</a>
    <a href="/history">Order History</a>
{% endblock %}